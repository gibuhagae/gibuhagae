<!DOCTYPE html>
<html lang="ko" xmlns:th="https://www.thymeleaf.org"
xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원정보 수정</title>
    <!-- 외부 스타일 시트 -->
    <link href="/css/myPage/MemberInformationModifyStyle.css" rel="stylesheet" type="text/css">
    <!-- 리셋 CSS : 브라우저별로 디폴트로 적용 된 CSS(여백, 폰트 등)에 차이가 있으므로
   브라우저별로 다르게 보일 수 있어 리셋 CSS를 활용한다. -->
    <link href="https://unpkg.com/ress/dist/ress.min.css" rel="stylesheet" type="text/css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript" src="/js/event.js"></script>

    <script>
        const message = '[[${message}]]';
        message && alert(message);
    </script>

</head>

<body>
    <!-- 헤더(로고, 상단 메뉴)-->
    <div th:replace="/common/board/navigation"></div>

    <nav class="myPageCategory">
        <p id="categoryTitle">마이쇼핑</p>
        <br>
        <button class="categoryBtn" id="orderHistoryInquiry" onclick="location.href='OrderDetail'">주문내역 조회</button>
        <br>
        <button class="categoryBtn" id="creInquiry" onclick="location.href='CancelReturnExchange'">취소 반품 교환
            조회</button> <br>
        <button class="categoryBtn" id="mInforModify" onclick="location.href='MemberInformationModify'">회원정보
            수정</button> <br>
        <button class="categoryBtn" id="interestProduct" onclick="location.href='InterestProduct'">관심 상품</button>
        <br>
        <button class="categoryBtn" id="recentViewedProduct" onclick="location.href='RecentViewedProduct'">최근 본
            상품</button> <br>
        <button class="categoryBtn" id="savedMoney" onclick="location.href='SavedMoney'">적립금</button>
    </nav>

    <section class="joinArea">

        <p class="joinTitle">회원정보 수정</p>

        <form class="joinForm" action="/myPage/MemberInformationModify" method="post">

            <hr class="joinHr" id="joinHr1">

            <div class="idArea">
                <label class="joinInput">아이디 : </label>
                <img src="/images/asterisk.png" alt="test" width="10" height="10">
                <input class="inputBG" id="inputId" type="text" name="id" placeholder="  ID" th:value="${userId}" style="color: rgb(185, 190, 201)" readonly>
            </div>

            <hr class="joinHr">

            <div class="pwdArea">
            <label class="joinInput">비밀번호 : </label>
            <img src="/images/asterisk.png" alt="test" width="10" height="10">
            <input class="inputBG" id="inputPwd" type="password" name="pwd" value="">
            <span id="pwdSpan">(영문 대소문자/숫자/특수 문자 중 세 가지 이상 8자~16자)</span>
        </div>

            <hr class="joinHr">

            <div class="pwdChkArea">
            <label class="joinInput">비밀번호 확인 : </label>
            <img src="/images/asterisk.png" alt="test" width="10" height="10">
            <input class="inputBG" type="password" name="pwdChk">
        </div>

            <hr class="joinHr">

            <div class="nameArea">
            <label class="joinInput">이름 : </label>
            <img src="/images/asterisk.png" alt="test" width="10" height="10">
            <input class="inputBG" id="inputName" type="text" name="name" placeholder="  홍길동" th:value="${userName}" style="color: rgb(185, 190, 201)" readonly>
        </div>

            <hr class="joinHr">

            <div class="phoneArea">
            <label class="joinInput">휴대전화 : </label>
            <img src="/images/asterisk.png" alt="test" width="10" height="10">
            <select class="inputBG2" id="inputPhone1" name="phone1" th:value="${'050'}" style="color: rgb(185, 190, 201)">
                <option value="010" selected>010</option>
                <option value="011">011</option>
                <option value="016">016</option>
                <option value="017">017</option>
                <option value="018">018</option>
                <option value="019">019</option>
            </select>
            
            <input class="inputBG2" id="inputPhone2" name="phone2" type="text" th:value="${userPhone2}">
            <input class="inputBG2" id="inputPhone3" name="phone3" type="text" th:value="${userPhone3}">
        </div>

            <hr class="joinHr">

            <div class="addrArea">
            <label class="joinInput">주소 : </label>
            <img src="/images/asterisk.png" alt="test" width="10" height="10">
            <input class="inputBG3" id="inputPost" type="text" name="zipCode" placeholder="  우편번호" th:value="${userZipcode}"
                style="color: rgb(185, 190, 201)" readonly>
            <button type="button" id="inputPostBtn">주소검색</button>
            <br>
            <input class="inputBG" id="inputBasicAddr" type="text" name="addr1" placeholder="  기본주소" th:value="${userAddr1}"
                style="color: rgb(185, 190, 201)" readonly>
            <br>
            <input class="inputBG" id="inputRAddr" type="text" name="addr2" placeholder="  나머지 주소(선택 입력 가능)" th:value="${userAddr2}"
                style="color: rgb(185, 190, 201)">
            </div>

            <hr class="joinHr">

            <div class="emailArea">
            <label class="joinInput">이메일 : </label>
            <img src="/images/asterisk.png" alt="test" width="10" height="10">
            <input class="inputBG" id="inputEmail" type="text" name="email" placeholder="  songbyhyeok@gmail.com" th:value="${userEmail}"
                style="color: rgb(185, 190, 201)">
            </div>

            <hr class="joinHr">
            <button type="button" id="withdraw">회원 탈퇴</button>
<!--            <th:block sec:authorize="isAuthenticated()">-->
<!--                <button type="button" id="withdraw">회원 탈퇴</button>-->
<!--            </th:block>-->

            <div class="modifyFunBtns">
                <button type="submit" id="modifyCheckBtn">확인</button>
                <button type="button" id="cancelBtn" onclick="location.href='/myPage/MyPage'">취소</button>
            </div>

        </form>

    </section>

    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script>
        const $searchZipCode = document.getElementById("inputPostBtn");

        $searchZipCode.onclick = function(){
            new daum.Postcode({
                oncomplete: function(data) {
                    document.getElementById("inputPost").value = data.zonecode;
                    document.getElementById("inputBasicAddr").value = data.address;
                    document.getElementById("inputRAddr").focus();
                }
            }).open();
        }
    </script>

</body>

</html>